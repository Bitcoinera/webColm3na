<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>ColmenaLabs</title>
        <link rel="shortcut icon" type="image/png" href="assets/img/coworkLogo.jpg" />
        <!--69 66 20 79 6f 75 20 61 72 65 20 61 20 63 75 72 69 6f 75 73 20 70 65 72 73 6f 6e 20 61 6e 64 20 79 6f 75 20 70 6c 61 79 20 77 69 74 68 20 6f 75 72 20 48 54 4d 4c 20 63 6f 64 65 2c 20 79 6f 75 20 70 72 6f 62 61 62 6c 79 20 68 61 76 65 20 61 20 72 65 77 61 72 64 2c 20 6c 6f 6f 6b 20 66 6f 72 20 69 74 2c 20 61 6e 64 20 69 66 20 79 6f 75 20 66 69 6e 64 20 69 74 20 63 6f 6d 65 20 74 6f 20 43 6f 6c 6d 65 6e 61 20 74 6f 20 72 65 63 65 69 76 65 20 69 74 2e-->
        <!--Map-->
        <script src='https://api.mapbox.com/mapbox-gl-js/v1.4.1/mapbox-gl.js'></script>
        <link href='https://api.mapbox.com/mapbox-gl-js/v1.4.1/mapbox-gl.css' rel='stylesheet' />
    </head>

    <div id='mapbox' style='width: 400px; height: 300px;'></div>

    <!--mapboxgl.accessToken = 'pk.eyJ1Ijoid2ltZWwiLCJhIjoiY2s0OG4ya3ljMDNrNjNlcGJ3cm1lYXZhYSJ9.BE4z_jw3JSI0yv8Q4TxWpg'-->
    <script>
            mapboxgl.accessToken = 'pk.eyJ1Ijoid2ltZWwiLCJhIjoiY2s0OG4ya3ljMDNrNjNlcGJ3cm1lYXZhYSJ9.BE4z_jw3JSI0yv8Q4TxWpg';
        var mapbox = new mapboxgl.Map({
        container: 'mapbox',
        style: 'mapbox://styles/mapbox/streets-v11',
        center: [-6.06, 37.37],
        /*Coord Colmena:
            -6.0698055000000295, 37.3793385
        */
        zoom: 11.15
        });
         
        mapbox.on('load', function() {
        // Add a layer showing the places.
        mapbox.addLayer({
        'id': 'places',
        'type': 'symbol',
        'source': {
        'type': 'geojson',
        'data': {
        'type': 'FeatureCollection',
        'features': [
        {
        'type': 'Feature',
        'properties': {
        'description':
        '<strong>ColmenaLabs_svq</strong><p><a href="https://www.colmenalabs.org/" target="_blank" title="Nueva ventana">ColmenaLabs</a> es un espacio abierto centrado en la tecnolog√≠a blockchain para makers, DevOps, desarrolladores web3.0...</p>',
        'icon': 'rocket'
        },
        'geometry': {
        'type': 'Point',
        'coordinates': [-6.0698055000000295, 37.3793385]
        }
        },

        {
        'type': 'Feature',
        'properties': {
        'description':
        '<strong><a href="https://www.metro-sevilla.es/es/linea-1" target="_blank" title="Nueva ventana">Estacion de metro de San Juan Alto</a></strong><p> es una de las paradas mas cercanas a la Colmena</p>',
        'icon': 'car'
        },
        'geometry': {
        'type': 'Point',
        /*Coor Metro:
        37.361574, -6.038411 
        */
        'coordinates': [-6.038411, 37.361574]
        }
        }
        /*
        {
        'type': 'Feature',
        'properties': {
        'description':
        '<strong>nota1</strong><p>nota2<a href="http://tallulaeatbar.ticketleap.com/2012beachblanket/" target="_blank" title="Nueva ventana">enlace1</a> nota3.</p>',
        'icon': 'bar'
        },
        'geometry': {
        'type': 'Point',
        'coordinates': [-77.090372, 38.881189]
        }
        },
        */
        ]
        }
        },
        'layout': {
        'icon-image': '{icon}-15',
        'icon-allow-overlap': true
        }
        });
         
        // When a click event occurs on a feature in the places layer, open a popup at the
        // location of the feature, with description HTML from its properties.
        mapbox.on('click', 'places', function(e) {
        var coordinates = e.features[0].geometry.coordinates.slice();
        var description = e.features[0].properties.description;
         
        // Ensure that if the map is zoomed out such that multiple
        // copies of the feature are visible, the popup appears
        // over the copy being pointed to.
        while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {
        coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;
        }
         
        new mapboxgl.Popup()
        .setLngLat(coordinates)
        .setHTML(description)
        .addTo(mapbox);
        });
         
        // Change the cursor to a pointer when the mouse is over the places layer.
        mapbox.on('mouseenter', 'places', function() {
            mapbox.getCanvas().style.cursor = 'pointer';
        });
         
        // Change it back to a pointer when it leaves.
        mapbox.on('mouseleave', 'places', function() {
            mapbox.getCanvas().style.cursor = '';
        });
        });
        </script>        

</html>
